"use strict";(self.webpackChunkaa_webauthn_demo=self.webpackChunkaa_webauthn_demo||[]).push([[511],{75439:(e,n,o)=>{o.d(n,{M:()=>a});var r=o(56816),t=o(80184);const a=e=>{let{buttonText:n,onClick:o,disabled:a=!1,testId:i="",loading:s=!1,sx:l}=e;return(0,t.jsx)(r.Z,{size:"small",variant:"contained",sx:{...l,backgroundColor:"black",borderRadius:2},onClick:o,disabled:a,"data-testid":i,loading:s,children:n})}},55511:(e,n,o)=>{o.r(n),o.d(n,{default:()=>v});var r=o(72791),t=o(77257),a=o(57621),i=o(39504),s=o(20890),l=o(72363),c=o(42139),d=o(50533),u=o(65054),m=o(17303),p=o(75439),x=o(52029),b=o(70188),h=o(73580),y=o(80184);const v=(0,t.Pi)((()=>{const{appStore:e}=(0,x.oR)(),n=e.accountAddress,[o,t]=(0,r.useState)(!1),[v,Z]=(0,r.useState)("");return n?(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(a.Z,{variant:"outlined",sx:{minWidth:275,borderRadius:5},children:[(0,y.jsx)(i.Z,{sx:{pb:1},children:(0,y.jsx)(s.Z,{display:"inline",sx:{fontSize:26},children:"Add Recovery Email"})}),(0,y.jsxs)(l.Z,{sx:{pl:2,pr:2,pb:2},children:[(0,y.jsx)(c.Z,{id:"email",label:"Email",variant:"filled",onChange:e=>{Z(e.target.value)}}),(0,y.jsx)(p.M,{buttonText:"Add Recovery Email",sx:{ml:1},onClick:()=>(async o=>{let{email:r}=o;n||e.showSnackBar("Please create account first");try{t(!0);const n=await e.getNewAccountBuilder(),o=(0,h.keccak256)(u.$.encode(["address","string"],[e.accountAddress,r]));console.log("opHash",o);const a=await e.signer.sign(o),i=u.$.encode(["address","string","bytes"],[e.accountAddress,r,a]),s=new m.vU(["function bindEmail(bytes)"]).encodeFunctionData("bindEmail",[i]);console.log("bindEmailCallData",s);const l=new m.vU(["function execute(address,uint256,bytes)"]).encodeFunctionData("execute",[b.cc,0,s]);n.setCallData(l);const c=await e.client.sendUserOperation(n);e.addRecoveryEmail(c.userOpHash,r);const d=await c.wait();console.log("userOperationEvent",d),d&&e.showSnackBar("Recovery email added successfully!")}catch(a){console.error(a),e.showSnackBar(`${a.toString()}`)}finally{t(!1)}})({email:v}),testId:"add-recovery-email",loading:o})]}),e.addRecoveryEmailTxHash&&(0,y.jsxs)(i.Z,{sx:{pb:1},children:[e.addRecoveryEmailTxHash&&(0,y.jsxs)(s.Z,{sx:{fontSize:16},children:["Transaction Details: ",(0,y.jsx)(d.Z,{underline:"always",target:"_blank",rel:"noopener",href:`https://dashboard.tenderly.co/tx/sepolia/${e.addRecoveryEmailTxHash}?trace=0`,children:e.addRecoveryEmailTxHash})]}),e.recoveryEmail&&(0,y.jsx)(s.Z,{sx:{fontSize:16},children:`Recovery Email: ${e.recoveryEmail}`})]})]})}):null}))},50533:(e,n,o)=>{o.d(n,{Z:()=>R});var r=o(63366),t=o(87462),a=o(72791),i=o(63733),s=o(94419),l=o(14036),c=o(66934),d=o(31402),u=o(23031),m=o(42071),p=o(20890),x=o(75878),b=o(21217);function h(e){return(0,b.Z)("MuiLink",e)}const y=(0,x.Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var v=o(18529),Z=o(94860);const f={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},g=e=>{let{theme:n,ownerState:o}=e;const r=(e=>f[e]||e)(o.color),t=(0,v.DW)(n,`palette.${r}`,!1)||o.color,a=(0,v.DW)(n,`palette.${r}Channel`);return"vars"in n&&a?`rgba(${a} / 0.4)`:(0,Z.Fq)(t,.4)};var w=o(80184);const k=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],S=(0,c.ZP)(p.Z,{name:"MuiLink",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:o}=e;return[n.root,n[`underline${(0,l.Z)(o.underline)}`],"button"===o.component&&n.button]}})((e=>{let{theme:n,ownerState:o}=e;return(0,t.Z)({},"none"===o.underline&&{textDecoration:"none"},"hover"===o.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===o.underline&&(0,t.Z)({textDecoration:"underline"},"inherit"!==o.color&&{textDecorationColor:g({theme:n,ownerState:o})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===o.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${y.focusVisible}`]:{outline:"auto"}})})),R=a.forwardRef((function(e,n){const o=(0,d.Z)({props:e,name:"MuiLink"}),{className:c,color:p="primary",component:x="a",onBlur:b,onFocus:y,TypographyClasses:v,underline:Z="always",variant:g="inherit",sx:R}=o,C=(0,r.Z)(o,k),{isFocusVisibleRef:E,onBlur:j,onFocus:D,ref:A}=(0,u.Z)(),[$,T]=a.useState(!1),F=(0,m.Z)(n,A),B=(0,t.Z)({},o,{color:p,component:x,focusVisible:$,underline:Z,variant:g}),H=(e=>{const{classes:n,component:o,focusVisible:r,underline:t}=e,a={root:["root",`underline${(0,l.Z)(t)}`,"button"===o&&"button",r&&"focusVisible"]};return(0,s.Z)(a,h,n)})(B);return(0,w.jsx)(S,(0,t.Z)({color:p,className:(0,i.Z)(H.root,c),classes:v,component:x,onBlur:e=>{j(e),!1===E.current&&T(!1),b&&b(e)},onFocus:e=>{D(e),!0===E.current&&T(!0),y&&y(e)},ref:F,ownerState:B,variant:g,sx:[...Object.keys(f).includes(p)?[]:[{color:p}],...Array.isArray(R)?R:[R]]},C))}))}}]);
//# sourceMappingURL=511.0f219914.chunk.js.map
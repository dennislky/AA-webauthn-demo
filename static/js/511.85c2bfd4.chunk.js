"use strict";(self.webpackChunkaa_webauthn_demo=self.webpackChunkaa_webauthn_demo||[]).push([[511],{75439:(e,n,o)=>{o.d(n,{M:()=>a});var r=o(56816),t=o(80184);const a=e=>{let{buttonText:n,onClick:o,disabled:a=!1,testId:s="",loading:i=!1,sx:l}=e;return(0,t.jsx)(r.Z,{size:"small",variant:"contained",sx:{...l,backgroundColor:"black",borderRadius:2},onClick:o,disabled:a,"data-testid":s,loading:i,children:n})}},55511:(e,n,o)=>{o.r(n),o.d(n,{default:()=>v});var r=o(72791),t=o(77257),a=o(57621),s=o(39504),i=o(20890),l=o(72363),c=o(42139),d=o(50533),u=o(65054),m=o(17303),p=o(75439),b=o(52029),h=o(70188),x=o(73580),y=o(80184);const v=(0,t.Pi)((()=>{const{appStore:e}=(0,b.oR)(),n=e.accountAddress,[o,t]=(0,r.useState)(!1),[v,g]=(0,r.useState)("");return n?(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(a.Z,{variant:"outlined",sx:{minWidth:275,borderRadius:5},children:[(0,y.jsx)(s.Z,{sx:{pb:1},children:(0,y.jsx)(i.Z,{display:"inline",sx:{fontSize:26},children:"Add Recovery Email"})}),(0,y.jsxs)(l.Z,{sx:{pl:2,pr:2,pb:2},children:[(0,y.jsx)(c.Z,{id:"email",label:"Email",variant:"filled",onChange:e=>{g(e.target.value)}}),(0,y.jsx)(p.M,{buttonText:"Add Recovery Email",sx:{ml:1},onClick:()=>(async o=>{let{email:r}=o;n||e.showSnackBar("Please create account first");try{t(!0);const n=await e.getNewAccountBuilder(),o=(0,x.keccak256)(u.$.encode(["address","string"],[e.accountAddress,r]));console.log("opHash",o);const a=await e.signer.sign(o),s=u.$.encode(["address","string","bytes"],[e.accountAddress,r,a]),i=new m.vU(["function bindEmail(bytes)"]).encodeFunctionData("bindEmail",[s]);console.log("bindEmailCallData",i);const l=new m.vU(["function execute(address,uint256,bytes)"]).encodeFunctionData("execute",[h.cc,0,i]);n.setCallData(l);const c=await e.client.sendUserOperation(n);e.addRecoveryEmail(c.userOpHash,r);const d=await c.wait();console.log("userOperationEvent",d),d&&e.showSnackBar("Recovery email added successfully!")}catch(a){console.error(a),e.showSnackBar(`${a.toString()}`)}finally{t(!1)}})({email:v}),testId:"add-recovery-email",loading:o})]}),e.addRecoveryEmailTxHash&&(0,y.jsx)(s.Z,{sx:{pb:1},children:e.addRecoveryEmailTxHash&&(0,y.jsxs)(i.Z,{sx:{fontSize:16},children:["Transaction Details: ",(0,y.jsx)(d.Z,{underline:"always",target:"_blank",rel:"noopener",href:`https://dashboard.tenderly.co/tx/sepolia/${e.addRecoveryEmailTxHash}?trace=0`,children:e.addRecoveryEmailTxHash})]})})]})}):null}))},50533:(e,n,o)=>{o.d(n,{Z:()=>C});var r=o(63366),t=o(87462),a=o(72791),s=o(63733),i=o(94419),l=o(14036),c=o(66934),d=o(31402),u=o(23031),m=o(42071),p=o(20890),b=o(75878),h=o(21217);function x(e){return(0,h.Z)("MuiLink",e)}const y=(0,b.Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var v=o(18529),g=o(94860);const Z={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},f=e=>{let{theme:n,ownerState:o}=e;const r=(e=>Z[e]||e)(o.color),t=(0,v.DW)(n,`palette.${r}`,!1)||o.color,a=(0,v.DW)(n,`palette.${r}Channel`);return"vars"in n&&a?`rgba(${a} / 0.4)`:(0,g.Fq)(t,.4)};var w=o(80184);const k=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],S=(0,c.ZP)(p.Z,{name:"MuiLink",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:o}=e;return[n.root,n[`underline${(0,l.Z)(o.underline)}`],"button"===o.component&&n.button]}})((e=>{let{theme:n,ownerState:o}=e;return(0,t.Z)({},"none"===o.underline&&{textDecoration:"none"},"hover"===o.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===o.underline&&(0,t.Z)({textDecoration:"underline"},"inherit"!==o.color&&{textDecorationColor:f({theme:n,ownerState:o})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===o.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${y.focusVisible}`]:{outline:"auto"}})})),C=a.forwardRef((function(e,n){const o=(0,d.Z)({props:e,name:"MuiLink"}),{className:c,color:p="primary",component:b="a",onBlur:h,onFocus:y,TypographyClasses:v,underline:g="always",variant:f="inherit",sx:C}=o,R=(0,r.Z)(o,k),{isFocusVisibleRef:j,onBlur:D,onFocus:A,ref:E}=(0,u.Z)(),[T,$]=a.useState(!1),F=(0,m.Z)(n,E),B=(0,t.Z)({},o,{color:p,component:b,focusVisible:T,underline:g,variant:f}),H=(e=>{const{classes:n,component:o,focusVisible:r,underline:t}=e,a={root:["root",`underline${(0,l.Z)(t)}`,"button"===o&&"button",r&&"focusVisible"]};return(0,i.Z)(a,x,n)})(B);return(0,w.jsx)(S,(0,t.Z)({color:p,className:(0,s.Z)(H.root,c),classes:v,component:b,onBlur:e=>{D(e),!1===j.current&&$(!1),h&&h(e)},onFocus:e=>{A(e),!0===j.current&&$(!0),y&&y(e)},ref:F,ownerState:B,variant:f,sx:[...Object.keys(Z).includes(p)?[]:[{color:p}],...Array.isArray(C)?C:[C]]},R))}))}}]);
//# sourceMappingURL=511.85c2bfd4.chunk.js.map
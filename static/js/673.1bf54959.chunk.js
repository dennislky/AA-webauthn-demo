"use strict";(self.webpackChunkaa_webauthn_demo=self.webpackChunkaa_webauthn_demo||[]).push([[673],{75439:(e,n,s)=>{s.d(n,{M:()=>o});var r=s(56816),t=s(80184);const o=e=>{let{buttonText:n,onClick:s,disabled:o=!1,testId:a="",loading:i=!1,sx:c}=e;return(0,t.jsx)(r.Z,{size:"small",variant:"contained",sx:{...c,backgroundColor:"black",borderRadius:2},onClick:s,disabled:o,"data-testid":a,loading:i,children:n})}},52673:(e,n,s)=>{s.r(n),s.d(n,{default:()=>y});var r=s(72791),t=s(77257),o=s(57621),a=s(39504),i=s(20890),c=s(72363),d=s(34029),l=s(2257),u=s(65054),b=s(73580),m=s(19967),p=s(75439),f=s(52029),h=s(70188),w=s(80184),x=s(19778).Buffer;const y=(0,t.Pi)((()=>{const{appStore:e}=(0,f.oR)(),n=e.recoveryEmail,[s,t]=(0,r.useState)(!1);return n?(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(o.Z,{variant:"outlined",sx:{minWidth:275,borderRadius:5},children:[(0,w.jsx)(a.Z,{sx:{pb:1},children:(0,w.jsx)(i.Z,{display:"inline",sx:{fontSize:26},children:"Send Recovery Email"})}),(0,w.jsx)(c.Z,{sx:{pl:2,pr:2,pb:2},children:(0,w.jsx)(p.M,{buttonText:"Send Recovery Email",sx:{ml:1},onClick:async()=>{n||e.showSnackBar("Please add recovery email first");try{t(!0);const n=["function emails(address) view returns (string)","function recoveryNonce(address) view returns (uint256)","function publicKeys(address, string) view returns (bytes)"],s=new d.CH(h.cc,n,e.provider);console.log("webAuthn contract",s);const r=await s.emails(e.accountAddress);console.log(r);const o=await s.recoveryNonce(e.accountAddress);console.log(l.O$.from(o).toNumber()),console.log(e.createCredentialId);const a=await s.publicKeys(e.accountAddress,e.createCredentialId);console.log(a);const i=x.from(m.P6.parseBase64url(e.publicKey.x.toString())),c=x.from(m.P6.parseBase64url(e.publicKey.y.toString())),p=b.defaultAbiCoder.encode(["uint256","uint256"],[l.O$.from(i),l.O$.from(c)]),f=u.$.encode(["uint256","address","address","uint256","bytes","string"],[h.Bv,h.cc,e.accountAddress,o,p,e.createCredentialId]),w="wujinzhou@live.com";window.open(`mailto:${w}?subject=${f.slice(2)}`,"_blank")}catch(s){console.error(s),e.showSnackBar(`${s.toString()}`)}finally{t(!1)}},testId:"send-email",loading:s})})]})}):null}))}}]);
//# sourceMappingURL=673.1bf54959.chunk.js.map